{"version":3,"sources":["lib/utilities.js","App.js","index.js"],"names":["id","document","getElementById","App","timeOut","useState","clicked","setClicked","seconds","setSeconds","useEffect","fetch","url","then","resp","json","data","innerHTML","encrypted","catch","console","error","closeTOS","classList","add","remove","interval","setInterval","clearInterval","contains","tos","addEventListener","checkHandler","checked","className","htmlFor","type","name","onChange","onClick","disabled","role","toFixed","ReactDOM","render","StrictMode"],"mappings":"2LAAMA,G,MAAK,SAAAA,GAAE,OAAIC,SAASC,eAAeF,K,OCmG1BG,MA7Ff,WACE,IAAuDC,GAAU,EAEjE,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAGAC,qBAAU,WACRC,MAAMC,sDACHC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GAAI,OAAIhB,EAAG,SAASiB,UAAYD,EAAKE,aAC1CC,MAAMC,QAAQC,SAChB,IAEH,IAAMC,EAAW,WACftB,EAAG,WAAWuB,UAAUC,IAAI,UAC5BxB,EAAG,SAASuB,UAAUE,OAAO,WAG/Bf,qBAAU,WACR,IAAIgB,EAWJ,OAVAA,EAAWC,aAAY,WACrBlB,GAAW,SAAAD,GAAO,OAAIA,EAAU,OAC/B,KACa,IAAZA,IACFoB,cAAcF,GACdtB,GAAU,EACLJ,EAAG,cAAcuB,UAAUM,SAAS,WAAW7B,EAAG,cAAcuB,UAAUC,IAAI,UAC/ElB,GAASgB,KAGR,kBAAMM,cAAcF,MAC1B,CAAClB,IAEJE,qBAAU,WACRC,MAAM,gDACHE,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACJhB,EAAG,OAAOiB,UAAYD,EAAKc,IAC3B9B,EAAG,cAAc+B,iBAAiB,QAAST,MAE5CH,MAAMC,QAAQC,SAChB,IAEH,IAAMW,EAAe,WACfhC,EAAG,SAASiC,SAAWjC,EAAG,YAAYiC,QAASjC,EAAG,UAAUuB,UAAUE,OAAO,UAC5EzB,EAAG,UAAUuB,UAAUC,IAAI,WAGlC,OACE,sBAAKU,UAAU,MAAf,UACE,yBAAQA,UAAU,aAAlB,mCAEE,0BAGF,iCACE,sBAAKlC,GAAG,UAAUkC,UAAU,qBAA5B,UACE,qBAAKlC,GAAG,QAER,sBAAKkC,UAAU,4CAAf,UACE,iCACI,uBAAOC,QAAQ,YAAf,4DACA,uBAAOC,KAAK,WAAWpC,GAAG,QAAQqC,KAAK,YAAYC,SAAUN,IAAsB,uBACnF,uBAAOG,QAAQ,YAAf,4DACA,uBAAOC,KAAK,WAAWpC,GAAG,WAAWqC,KAAK,WAAWC,SAAUN,IAAsB,0BAEzF,wBAAQE,UAAU,yBAAyBlC,GAAG,SAASuC,QAAS,WAC1DnC,EAASkB,KAEXf,GAAW,GACXP,EAAG,cAAcuB,UAAUE,OAAO,UAClCzB,EAAG,SAASwC,UAAW,EACvBxC,EAAG,YAAYwC,UAAW,EAC1BxC,EAAG,UAAUwC,UAAW,IAP5B,oBAUA,sBAAKN,UAAU,4BAA4BlC,GAAG,aAAayC,KAAK,QAAhE,8IACoIjC,EADpI,uBACiKA,EAAU,IAAIkC,QAAQ,GADvL,uBAC+MlC,EAAU,GAAK,IAAIkC,QAAQ,GAD1O,mBAMJ,qBAAK1C,GAAG,QAAQkC,UAAU,cAG5B,iCACE,kGCxFRS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5C,SAASC,eAAe,U","file":"static/js/main.ab07f8fc.chunk.js","sourcesContent":["const id = id => document.getElementById(id);\n\nexport {\n  id\n}","import React, { useEffect, useState } from 'react';\n\nimport './App.css';\n\nimport { id } from './lib/utilities';\n\nfunction App() {\n  let url = 'https://gentle-beach-11167.herokuapp.com/', timeOut = false;\n\n  const [clicked, setClicked] = useState(false);\n  const [seconds, setSeconds] = useState(10);\n\n  // Run once at the start\n  useEffect(() => {\n    fetch(url + 'encrypted')\n      .then(resp => resp.json())\n      .then(data => id(\"essay\").innerHTML = data.encrypted)\n      .catch(console.error);\n  }, []);\n\n  const closeTOS = () => {\n    id(\"tos-box\").classList.add(\"d-none\");\n    id(\"essay\").classList.remove(\"d-none\");\n  };\n\n  useEffect(() => {\n    let interval = null;\n    interval = setInterval(() => {\n      setSeconds(seconds => seconds - 1);\n    }, 1000);\n    if (seconds === 0) {\n      clearInterval(interval);\n      timeOut = true;\n      if (!id(\"alert-time\").classList.contains(\"d-none\")) id(\"alert-time\").classList.add(\"d-none\");\n      if (clicked) closeTOS();\n    }\n\n    return () => clearInterval(interval);\n  }, [seconds]);\n\n  useEffect(() => {\n    fetch('https://gentle-beach-11167.herokuapp.com/tos')\n      .then(resp => resp.json())\n      .then(data => {\n        id(\"tos\").innerHTML = data.tos;\n        id(\"click-here\").addEventListener(\"click\", closeTOS);\n      })\n      .catch(console.error);\n  }, []);\n\n  const checkHandler = () => {\n    if (id(\"agree\").checked && id(\"pp-agree\").checked) id(\"submit\").classList.remove(\"d-none\");\n    else id(\"submit\").classList.add(\"d-none\");\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        Amazon and Data Ethics\n        <hr></hr>\n      </header>\n\n      <main>\n        <div id=\"tos-box\" className=\"d-flex flex-column\">\n          <div id=\"tos\"></div>\n\n          <div className=\"d-flex flex-column justify-content-center\">\n            <form>\n                <label htmlFor=\"tos-agree\">I have read and agreed to the Terms of Service</label>\n                <input type=\"checkbox\" id=\"agree\" name=\"tos-agree\" onChange={checkHandler}></input><br/>\n                <label htmlFor=\"tos-agree\">I have read and agreed to the Privacy Policies</label>\n                <input type=\"checkbox\" id=\"pp-agree\" name=\"pp-agree\" onChange={checkHandler}></input><br/>\n            </form>\n            <button className=\"btn btn-success d-none\" id=\"submit\" onClick={() => {\n              if (timeOut) closeTOS();\n              else {\n                setClicked(true);\n                id(\"alert-time\").classList.remove(\"d-none\");\n                id(\"agree\").disabled = true;\n                id(\"pp-agree\").disabled = true;\n                id(\"submit\").disabled = true;\n              }\n            }}>Submit</button>\n            <div className=\"alert alert-danger d-none\" id=\"alert-time\" role=\"alert\">\n              Come on! You can't possibly be reading the Terms of Service that quickly right? We have disabled the submit button. Try again in {seconds} seconds or around {(seconds / 60).toFixed(2)} minutes or around {(seconds / 60 / 60).toFixed(2)} hours!\n            </div>\n          </div>\n        </div>\n\n        <div id=\"essay\" className=\"d-none\"></div>\n      </main>\n\n      <footer>\n        <p>Copyrighted Â© 2021 - Toan Ly, Luke Dorsett, Ryan Muggett</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}