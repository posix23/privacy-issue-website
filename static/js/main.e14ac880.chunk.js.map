{"version":3,"sources":["lib/utilities.js","App.js","index.js"],"names":["id","document","getElementById","App","url","timeOut","useState","clicked","setClicked","seconds","setSeconds","useEffect","fetch","then","resp","json","data","innerHTML","encrypted","catch","console","error","closeTOS","classList","add","remove","unencrypted","interval","setInterval","clearInterval","contains","tos","addEventListener","checkHandler","checked","className","htmlFor","type","name","onChange","onClick","disabled","role","toFixed","ReactDOM","render","StrictMode"],"mappings":"gPAAMA,G,MAAK,SAAAA,GAAE,OAAIC,SAASC,eAAeF,KCwG1BG,MAlGf,WACE,IAAIC,EAAM,4CAA6CC,GAAU,EAEjE,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,MAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAGAC,qBAAU,WACRC,MAAMR,EAAM,aACTS,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GAAI,OAAIhB,EAAG,SAASiB,UAAYD,EAAKE,aAC1CC,MAAMC,QAAQC,SAChB,IAGH,IAAMC,EAAW,WACftB,EAAG,WAAWuB,UAAUC,IAAI,UAC5BxB,EAAG,SAASuB,UAAUE,OAAO,UAC7Bb,MAAMR,EAAM,eACTS,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GAAI,OAAIhB,EAAG,SAASiB,UAAYD,EAAKU,eAC1CP,MAAMC,QAAQC,QAGnBV,qBAAU,WACR,IAAIgB,EAWJ,OAVAA,EAAWC,aAAY,WACrBlB,GAAW,SAAAD,GAAO,OAAIA,EAAU,OAC/B,KACa,IAAZA,IACFoB,cAAcF,GACdtB,GAAU,EACLL,EAAG,cAAcuB,UAAUO,SAAS,WAAW9B,EAAG,cAAcuB,UAAUC,IAAI,UAC/EjB,GAASe,KAGR,kBAAMO,cAAcF,MAC1B,CAAClB,IAEJE,qBAAU,WACRC,MAAM,gDACHC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACJhB,EAAG,OAAOiB,UAAYD,EAAKe,IAC3B/B,EAAG,cAAcgC,iBAAiB,QAASV,MAE5CH,MAAMC,QAAQC,SAChB,IAEH,IAAMY,EAAe,WACfjC,EAAG,SAASkC,SAAWlC,EAAG,YAAYkC,QAASlC,EAAG,UAAUuB,UAAUE,OAAO,UAC5EzB,EAAG,UAAUuB,UAAUC,IAAI,WAGlC,OACE,yBAAKW,UAAU,OACb,4BAAQA,UAAU,cAAlB,yBAEE,8BAGF,8BACE,yBAAKnC,GAAG,UAAUmC,UAAU,sBAC1B,yBAAKnC,GAAG,QAER,yBAAKmC,UAAU,6CACb,8BACI,2BAAOC,QAAQ,aAAf,kDACA,2BAAOC,KAAK,WAAWrC,GAAG,QAAQsC,KAAK,YAAYC,SAAUN,IAAsB,6BACnF,2BAAOG,QAAQ,aAAf,kDACA,2BAAOC,KAAK,WAAWrC,GAAG,WAAWsC,KAAK,WAAWC,SAAUN,IAAsB,8BAEzF,4BAAQE,UAAU,yBAAyBnC,GAAG,SAASwC,QAAS,WAC1DnC,EAASiB,KAEXd,GAAW,GACXR,EAAG,cAAcuB,UAAUE,OAAO,UAClCzB,EAAG,SAASyC,UAAW,EACvBzC,EAAG,YAAYyC,UAAW,EAC1BzC,EAAG,UAAUyC,UAAW,KAP5B,UAUA,yBAAKN,UAAU,4BAA4BnC,GAAG,aAAa0C,KAAK,SAAhE,gKACgKjC,EADhK,uBAC6LA,EAAU,IAAIkC,QAAQ,GADnN,uBAC2OlC,EAAU,GAAK,IAAIkC,QAAQ,GADtQ,aAMJ,yBAAK3C,GAAG,QAAQmC,UAAU,YAG5B,gCACE,6FC7FRS,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEF7C,SAASC,eAAe,W","file":"static/js/main.e14ac880.chunk.js","sourcesContent":["const id = id => document.getElementById(id);\n\nexport {\n  id\n}","import React, { useEffect, useState } from 'react';\n\nimport './App.css';\n\nimport { id } from './lib/utilities';\n\nfunction App() {\n  let url = 'https://gentle-beach-11167.herokuapp.com/', timeOut = false;\n\n  const [clicked, setClicked] = useState(false);\n  const [seconds, setSeconds] = useState(60*60);\n\n  // Run once at the start\n  useEffect(() => {\n    fetch(url + 'encrypted')\n      .then(resp => resp.json())\n      .then(data => id(\"essay\").innerHTML = data.encrypted)\n      .catch(console.error);\n  }, []);\n\n  // Event for closing Terms of Service page\n  const closeTOS = () => {\n    id(\"tos-box\").classList.add(\"d-none\");\n    id(\"essay\").classList.remove(\"d-none\");\n    fetch(url + 'unencrypted')\n      .then(resp => resp.json())\n      .then(data => id(\"essay\").innerHTML = data.unencrypted)\n      .catch(console.error);\n  };\n\n  useEffect(() => {\n    let interval = null;\n    interval = setInterval(() => {\n      setSeconds(seconds => seconds - 1);\n    }, 1000);\n    if (seconds === 0) {\n      clearInterval(interval);\n      timeOut = true;\n      if (!id(\"alert-time\").classList.contains(\"d-none\")) id(\"alert-time\").classList.add(\"d-none\");\n      if (clicked) closeTOS();\n    }\n\n    return () => clearInterval(interval);\n  }, [seconds]);\n\n  useEffect(() => {\n    fetch('https://gentle-beach-11167.herokuapp.com/tos')\n      .then(resp => resp.json())\n      .then(data => {\n        id(\"tos\").innerHTML = data.tos;\n        id(\"click-here\").addEventListener(\"click\", closeTOS);\n      })\n      .catch(console.error);\n  }, []);\n\n  const checkHandler = () => {\n    if (id(\"agree\").checked && id(\"pp-agree\").checked) id(\"submit\").classList.remove(\"d-none\");\n    else id(\"submit\").classList.add(\"d-none\");\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        Amazon and Data Ethics\n        <hr></hr>\n      </header>\n\n      <main>\n        <div id=\"tos-box\" className=\"d-flex flex-column\">\n          <div id=\"tos\"></div>\n\n          <div className=\"d-flex flex-column justify-content-center\">\n            <form>\n                <label htmlFor=\"tos-agree\">I have read and agreed to the Terms of Service</label>\n                <input type=\"checkbox\" id=\"agree\" name=\"tos-agree\" onChange={checkHandler}></input><br/>\n                <label htmlFor=\"tos-agree\">I have read and agreed to the Privacy Policies</label>\n                <input type=\"checkbox\" id=\"pp-agree\" name=\"pp-agree\" onChange={checkHandler}></input><br/>\n            </form>\n            <button className=\"btn btn-success d-none\" id=\"submit\" onClick={() => {\n              if (timeOut) closeTOS();\n              else {\n                setClicked(true);\n                id(\"alert-time\").classList.remove(\"d-none\");\n                id(\"agree\").disabled = true;\n                id(\"pp-agree\").disabled = true;\n                id(\"submit\").disabled = true;\n              }\n            }}>Submit</button>\n            <div className=\"alert alert-danger d-none\" id=\"alert-time\" role=\"alert\">\n              Come on! You can't possibly be reading the Terms of Service that quickly right? We have disabled the submit button. You will be redirected to our content in {seconds} seconds or around {(seconds / 60).toFixed(2)} minutes or around {(seconds / 60 / 60).toFixed(2)} hours!\n            </div>\n          </div>\n        </div>\n\n        <div id=\"essay\" className=\"d-none\"></div>\n      </main>\n\n      <footer>\n        <p>Copyrighted Â© 2021 - Toan Ly, Luke Dorsett, Ryan Mudgett</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}